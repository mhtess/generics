<html>
<body>

<p>Hi!</p>

<div id='test'> </div>


<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>

<script>

   var intermediate = function(from, to, pos) {
        var fromCurve = Raphael.path2curve(from);
        var toCurve = Raphael.path2curve(to);
        var diff = [];
        var attr = "path";
        //compute difference between paths and store in diff
        for (i = 0, ii = fromCurve.length; i < ii; i++) {
          diff[i] = [0];
          for (var j = 1, jj = fromCurve[i].length; j < jj; j++) {
            diff[i][j] = (toCurve[i][j] - fromCurve[i][j]);
          }
        }
        var S = " ";
        now = [];
        //compute new path string for intermediate image
        for (var i = 0, ii = fromCurve.length; i < ii; i++) {
          now[i] = [fromCurve[i][0]];
          for (var j = 1, jj = fromCurve[i].length; j < jj; j++) {
            now[i][j] = +fromCurve[i][j] + pos * diff[i][j];
          }
          now[i] = now[i].join(S);
        }
        return now.join(S);
    };


 var intermediate2d = function(ends, pathlabel, prop1, prop2) {
        //interpolate the proper amount along one dimension:
        var dim2as0 = Ecosystem.intermediate(ends["00"][pathlabel], ends["10"][pathlabel], prop1);
        var dim2as1 = Ecosystem.intermediate(ends["01"][pathlabel], ends["11"][pathlabel], prop1);
        //interpolate the proper amount along the other dimension:
        return Ecosystem.intermediate(dim2as0, dim2as1, prop2);
    };

function zip(arrays) {
    return arrays[0].map(function(_,i){
        return arrays.map(function(array){return array[i]})
    });
}

var creaturepath = 'M 440,83.791016 C 195.06164,117.88119 23.501708,122.57355 200,383.79102 30.811952,236.81524 -33.834175,261.86453 205.71484,449.50586 c 146.03686,358.77148 255.57618,65.2968 256.26646,43.32661 89.38111,-17.52646 54.50558,-68.2132 -21.11411,-167.82075 -75.40645,36.35243 -149.30125,28.62724 -55.15235,-66.93555 23.23905,26.83347 134.81316,44.7649 148.56138,62.87429 C 623.3379,278.01503 621.09854,177.65128 440,83.791016 Z M 460,175.21875 342.85742,249.50586 265.71484,378.07617 360,183.79102 Z';

// var creature2path = 'M 440,83.791016 C 93.530091,333.12807 23.501708,122.57355 200,383.79102 30.811952,236.81524 -33.834175,261.86453 205.71484,449.50586 c 116.05756,113.4333 255.93274,11.0534 256.26646,43.32661 89.38111,-17.52646 200.71101,-3.23301 125.09132,-102.84056 99.17561,-95.36438 5.02671,0.19841 99.17561,-95.36438 C 701.36475,199.62314 743.8974,160.6969 607.37893,211.29638 460,175.21875 621.09854,177.65128 440,83.791016 Z M 460,175.21875 342.85742,249.50586 265.71484,378.07617 360,183.79102 Z';
// var creature3path = 'm 3110.0671,207.07383 c 0,0 89.2618,-178.523494 28.1879,-122.147656 C 3077.1812,141.30201 3077.1812,146 3077.1812,146 c 0,0 79.8658,-169.127517 0,-70.469799 -79.8658,98.657719 -84.5638,98.657719 -84.5638,98.657719 -163.6675,25.21191 -219.2822,94.86457 -295.9731,230.20134 C 2284.998,1095.8435 1601.7548,573.81275 1155.7047,831.90604 885.76495,944.29917 810.08401,1354.0446 521.47651,1010.4295 c -245.60342,435.8126 535.17109,528.5696 606.04029,103.3557 110.872,198.6653 210.5884,292.693 108.0537,371.141 -126.8457,93.9597 -140.9396,136.2416 -140.9396,136.2416 l 183.2214,338.255 c 3.1262,33.4931 15.0478,109.6192 -46.9798,136.2416 l 37.5839,126.8457 c 0,0 155.0335,-136.2416 131.5436,-216.1074 -23.4899,-79.8658 -150.3356,-310.0671 -150.3356,-310.0671 l 122.1477,-112.7517 70.4698,-28.1879 -61.0738,103.3557 c 118.7809,113.5373 217.958,242.2251 324.161,366.4429 39.0946,31.6699 30.3135,38.0308 9.396,79.8658 l 103.3557,79.8658 c 51.9439,-65.2724 -11.0526,-182.059 -28.1879,-258.3893 l -216.1074,-216.1074 c 16.2737,-145.9507 102.1001,-267.0626 169.1275,-394.6308 211.9165,71.5279 519.2925,-15.1407 620.1342,206.7114 l 28.188,352.349 c -99.7823,73.5449 -177.8323,148.2091 -300.6712,155.0335 l -28.1879,145.6376 c 156.4236,-78.293 292.0478,-187.9943 432.2148,-291.2752 L 2551.0067,1480.2282 2800,1654.0537 c -73.9576,106.4367 -74.9857,292.6786 -211.4094,324.1611 l 4.698,145.6375 169.1275,-159.7315 c 85.3078,-114.1077 135.0908,-210.5435 145.6376,-347.651 -117.33,-104.0112 -248.9245,-432.5444 -50.1846,-561.317 131.1772,-84.99568 140.7958,-474.18932 214.6141,-458.14609 122.0324,29.15067 197.3981,145.80706 291.2752,150.33557 l 56.3758,-122.14765 C 3312.4489,488.4386 3201.672,355.05105 3110.0671,207.07383 Z';

var giraffe = 'M 141.77419,27.57098 123.3871,61.441947 C 108.6282,81.793455 85.892798,101.95263 68.225807,115.6355 c -26.352712,7.47877 -31.784949,12.14516 -37.258065,36.77419 -0.370204,19.33897 -10.984573,31.47765 -16.451613,48.3871 -4.7627625,21.08647 19.21993,-39.99421 21.774194,-51.7742 -3.208143,29.97018 -11.812708,67.46484 -25.161291,92.90323 L 15,245.79679 l 6.290323,-6.7742 3.870967,-16.93548 c 5.57127,-19.84333 13.509022,-33.9068 22.741936,-52.74194 l 9.193548,13.06452 c -2.106708,12.33714 -3.826717,10.68941 4.354839,18.87097 5.490218,7.61824 12.062295,36.16162 16.935484,39.67742 l 0,4.83871 13.064516,0 C 81.037042,231.08898 75.988716,213.05236 69.193548,196.44195 70.201247,166.2457 76.640547,167.2995 96.774194,153.8613 c 2.051992,30.65902 -8.138005,62.17282 -3.387097,90.48387 l 10.645163,0.48387 -4.838712,-7.74193 -0.48387,-15 c 2.289642,-11.41175 4.521722,-22.79222 5.806452,-34.35484 l 7.74193,-24.19355 c 10.61167,8.51886 9.90541,13.7087 14.03226,22.74194 -2.27937,12.47105 -3.61868,29.37162 -10.64516,35.80645 0.79371,5.09849 -2.53426,7.10029 -5.80645,10.64516 l 5.32258,13.54839 5.32258,-11.61291 c 2.68249,-8.3022 5.74688,-16.47274 8.70968,-24.67742 0.30062,-11.97593 8.43754,-27.12533 5.32258,-33.38709 -5.06427,-9.95057 -11.51401,-19.08757 -14.03226,-30 6.64155,-13.36249 7.08651,-11.04608 2.90323,-24.19355 14.62625,-26.088849 20.60721,-50.397646 28.06451,-78.870968 11.84748,0.355948 17.03155,5.516074 27.09678,6.290322 -1.11555,-3.653078 -0.27955,-7.881706 -3.87097,-9.677419 -3.379,-6.629039 -8.60465,-16.771969 -14.51613,-16.935484 l -6.29032,-7.258065 -3.3871,0 c -0.19486,12.180745 -0.77568,8.086852 -10.64516,3.387097 z';

var horse = 'M 777.30664,72.759766 c -0.4865,0.04678 -1.5242,0.988931 -3.38281,3.324218 -8.49646,10.6756 -8.98242,10.664063 -8.98242,10.664063 -16.98713,2.38451 -22.90601,9.925026 -31.16211,24.648433 -44.23173,75.17645 -113.64051,16.03543 -160.39063,43.39454 -28.18708,11.73264 -36.99779,56.68413 -66.02148,18.14257 -26.4461,47.41575 54.08018,59.5053 62.42969,12.83789 10.98986,22.14896 21.07759,32.74551 10.28515,41.14063 -13.34392,10.04542 -14.90234,14.66992 -14.90234,14.66992 l 18.13672,37.69727 c 0.24297,3.69677 1.29326,12.11086 -5.18555,14.89453 l 3.58203,14.0625 c 0,0 16.36079,-14.6347 14.12305,-23.48828 -2.23774,-8.85357 -14.80274,-34.51563 -14.80274,-34.51563 6.06479,-6.80904 11.99369,-11.76431 20.25782,-15.0625 l -6.56446,11.23828 c 12.01204,12.79108 21.96088,27.20521 32.64649,41.14258 3.96723,3.58222 3.04294,4.26041 0.77929,8.81836 l 10.49805,9.04492 c 5.5287,-7.06516 -0.70588,-20.08041 -2.29492,-28.52929 L 614.52344,252.5625 c 2.03318,-16.03748 11.19942,-29.17161 18.4375,-43.0625 21.74498,8.38713 53.74173,-0.42114 63.63867,24.25781 l 2.07031,38.87891 c -10.49604,7.86164 -18.74632,15.89843 -31.4668,16.35547 l -3.26562,15.97461 c 16.36529,-8.24879 30.6564,-20.00863 45.40039,-31.04883 l 6.79883,-44.36719 25.33398,19.74414 l 0.13672,16.05274 17.875,-17.18946 c 9.09638,-12.36438 14.4768,-22.86623 15.89649,-37.94336 -11.88486,-11.73831 -24.70657,-48.24161 -3.84375,-61.94922 13.77038,-9.04764 15.69904,-51.89539 23.29492,-49.95117 12.55078,3.50367 20.06566,16.53381 29.76367,17.25781 l 6.12305,-13.31836 C 797.2654,122.13111 786.12866,107.1718 777.00977,90.652344 c 0,0 9.66059,-19.450032 3.20898,-13.386719 -6.45156,6.063317 -6.46289,6.582031 -6.46289,6.582031 0,0 5.28827,-11.254971 3.55078,-11.08789 z'

var a1 = 'm 141.77419,27.57098 -20.80644,82.74193 c -14.7589,20.35151 -36.042694,4.70424 -53.709685,18.38711 -26.352712,7.47877 -43.397852,-0.91936 -48.870968,23.70967 -0.370204,19.33897 -6.145863,25.18733 -11.6129035,42.09678 C 2.011431,215.59294 33.736059,160.80258 36.290323,149.02259 33.08218,178.99277 23.509873,219.87453 10.16129,245.31292 L 15,245.79679 l 21.774194,-2.41936 -1e-6,-27.58064 c 5.57127,-19.84333 1.896119,-27.61648 11.129033,-46.45162 l 9.193548,13.06452 c -2.106708,12.33714 -12.536394,12.14102 -4.354838,20.32258 5.490218,7.61824 0.933262,31.80678 5.806451,35.32258 l 4.354839,7.74194 28.548387,0 C 81.037042,231.08898 75.988716,213.05236 69.193548,196.44195 70.201247,166.2457 76.640547,167.2995 96.774194,153.8613 c 2.051992,30.65902 -8.138005,62.17282 -3.387097,90.48387 l 10.645163,0.48387 12.09677,0.48388 -17.419352,-23.22581 c 2.289642,-11.41175 4.521722,-22.79222 5.806452,-34.35484 l 7.74193,-24.19355 c 10.61167,8.51886 9.90541,13.7087 14.03226,22.74194 -2.27937,12.47105 -3.61868,29.37162 -10.64516,35.80645 0.79371,5.09849 -2.53426,7.10029 -5.80645,10.64516 l 29.51613,11.12904 8.2258,-11.61291 c 2.68249,-8.3022 1.87592,-14.05339 4.83872,-22.25807 0.30062,-11.97593 -14.78827,-27.12533 -17.90323,-33.38709 -5.06427,-9.95057 -11.51401,-19.08757 -14.03226,-30 6.64155,-13.36249 7.08651,-11.04608 2.90323,-24.19355 14.62625,-26.088849 17.22011,-14.10733 24.67741,-42.580646 11.84748,0.355948 17.03155,4.548333 27.09678,5.322581 -1.11555,-3.653078 -5.60213,-19.978481 -9.19355,-21.774194 -3.379,-6.629039 0.10503,-39.997775 -5.80645,-40.16129 l -6.29032,-7.258065 -3.3871,0 c -0.19486,12.180745 -0.77568,8.086852 -10.64516,3.387097 z'


var paper = Raphael('test',1000,1000);
var creature = paper.path(a1);
creature.attr("fill","#f00");

//creature.transform("s0.9t-500,0")


// var morphs = [0,0.3,0.7,1]

// var creaturepaths = morphs.map(function(morph){return intermediate(creaturepath,creature1path,morph)});

// var zipped = zip([papers,creaturepaths]);

// //var creatures = papers.map(function(paper){return paper.path(intermediate(creaturepath, creature2path, 0.5))});

// var creatures = zipped.map(function(papercreature)
// 	{return papercreature[0].path(papercreature[1])});

// 	//intermediate(creaturepath, creature2path, 0.5))});
// //creatures.map(function(creature){creature.attr("fill","#f00"); creature.transform("s0.3t-800,-400")});
// creatures.map(function(creature){creature.attr("fill","#f00"); creature.transform("s0.2t-800,-400")});



</script>

<body>
</html>
